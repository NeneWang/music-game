!function(t){function s(s){for(var i,r,n=s[0],l=s[1],u=s[2],d=0,p=[];d<n.length;d++)r=n[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);for(h&&h(s);p.length;)p.shift()();return o.push.apply(o,u||[]),e()}function e(){for(var t,s=0;s<o.length;s++){for(var e=o[s],i=!0,n=1;n<e.length;n++){var l=e[n];0!==a[l]&&(i=!1)}i&&(o.splice(s--,1),t=r(r.s=e[0]))}return t}var i={},a={0:0},o=[];function r(s){if(i[s])return i[s].exports;var e=i[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=i,r.d=function(t,s,e){r.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,s){if(1&s&&(t=r(t)),8&s)return t;if(4&s&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var i in t)r.d(e,i,function(s){return t[s]}.bind(null,i));return e},r.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(s,"a",s),s},r.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},r.p="";var n=window.webpackJsonp=window.webpackJsonp||[],l=n.push.bind(n);n.push=s,n=n.slice();for(var u=0;u<n.length;u++)s(n[u]);var h=l;o.push([1,1]),e()}([,function(t,s,e){"use strict";e.r(s);var i=e(0),a=e.n(i);var o=class{constructor(t=null,s=null){this.title=t,this.toggled=!1,this.smallSprite,this.audio,this.audioName="wav"+t,this.picName="pic"+t,this.muteBtn,this.soloBtn,this.button=s,this.trackSpritesRef,this.setButtonFrame,this.setMuteFrame,this.setSoloFrame,this.muteAll,this.unSoloAll}leftAsToggled(){this.toggled&&this.setButtonFrame(this.button,2)}setupButtons(){this.button.setInteractive(),this.button.on("pointerover",(()=>{this.setButtonFrame(this.button,0)})),this.button.on("pointerout",(()=>{this.setButtonFrame(this.button,1),this.leftAsToggled()})),this.button.on("pointerdown",(()=>{this.handleMusicSpriteClick()})),this.button.on("pointerup",(()=>{this.setButtonFrame(this.button,1),this.leftAsToggled()})),this.smallSprite.setInteractive(),this.smallSprite.on("pointerdown",(()=>{this.handleMusicSpriteClick()})),console.log("Setting buttons finished ")}showSmallSpriteX(){this.smallSprite.visible=!0,this.muteBtn.visible=!0,this.soloBtn.visible=!0,this.muteBtn.setInteractive(),this.muteBtn.on("pointerdown",(()=>{this.toggleMute()})),this.soloBtn.setInteractive(),this.soloBtn.on("pointerdown",(()=>{this.toggleSolo()}))}mute(){console.log(this.title,"muted"),this.audio.mute=!0,this.updateVisuals(),this.unSoloAll()}toggleMute(){this.audio.mute=!this.audio.mute,this.updateVisuals(),this.unSoloAll()}updateVisuals(){this.setMuteFrame(this.muteBtn,this.audio.mute?2:1)}toggleSolo(){this.muteAll(),this.audio.mute=!1,this.unSoloAll(),this.setSoloFrame(this.soloBtn,2),this.updateVisuals()}hideSmallSprite(){this.smallSprite.visible=!1,this.muteBtn.visible=!1,this.soloBtn.visible=!1}handleMusicSpriteClick(){this.setButtonFrame(this.button,2),console.log(this.trackSpritesRef),this.toggled=!this.toggled,this.toggled?(this.audio.resume(),this.audio.mute&&(this.audio.mute=!1,this.unSoloAll()),this.showSmallSpriteX()):(this.audio.pause(),this.hideSmallSprite(70)),this.setButtonFrame(this.button,2),this.updateVisuals()}};class r extends a.a.Scene{constructor(){super(),this.trackSprites=[]}preload(){this.load.spritesheet("pic1","assets/gms/images/1-spread.png",{frameWidth:300,frameHeight:300}),this.load.spritesheet("pic2","assets/gms/images/2-spread.png",{frameWidth:300,frameHeight:300}),this.load.spritesheet("pic3","assets/gms/images/3-spread.png",{frameWidth:300,frameHeight:300}),this.load.spritesheet("pic4","assets/gms/images/4-spread.png",{frameWidth:300,frameHeight:300}),this.load.spritesheet("pic5","assets/gms/images/8-spread.png",{frameWidth:300,frameHeight:300}),this.load.spritesheet("pic6","assets/gms/images/6-spread.png",{frameWidth:300,frameHeight:300}),this.load.spritesheet("pic7","assets/gms/images/7-spread.png",{frameWidth:300,frameHeight:300}),this.load.spritesheet("pic8","assets/gms/images/5-spread.png",{frameWidth:300,frameHeight:300}),this.load.spritesheet("pic9","assets/gms/images/9-spread.png",{frameWidth:300,frameHeight:300}),this.load.spritesheet("mute","assets/gms/sprites/mute-sheet.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("solo","assets/gms/sprites/headphone-sheet.png",{frameWidth:64,frameHeight:64}),this.load.bitmapFont("nokia","assets/fonts/bitmapFonts/nokia16black.png","assets/fonts/bitmapFonts/nokia16black.xml"),this.load.audioSprite("sfx","assets/audio/SoundEffects/fx_mixdown.json",["assets/audio/SoundEffects/fx_mixdown.ogg","assets/audio/SoundEffects/fx_mixdown.mp3"]),this.load.audio("wav1",["assets/gms/audio/1.wav"]),this.load.audio("wav2",["assets/gms/audio/2.wav"]),this.load.audio("wav3",["assets/gms/audio/3.wav"]),this.load.audio("wav4",["assets/gms/audio/4.wav"]),this.load.audio("wav5",["assets/gms/audio/5.wav"]),this.load.audio("wav6",["assets/gms/audio/6.wav"]),this.load.audio("wav7",["assets/gms/audio/7.wav"]),this.load.audio("wav8",["assets/gms/audio/8.wav"]),this.load.audio("wav9",["assets/gms/audio/9.wav"])}create(){this.sound.add("wav1",{loop:!0});const t={wav1:this.sound.add("wav1",{loop:!0}),wav2:this.sound.add("wav2",{loop:!0}),wav3:this.sound.add("wav3",{loop:!0}),wav4:this.sound.add("wav4",{loop:!0}),wav5:this.sound.add("wav5",{loop:!0}),wav6:this.sound.add("wav9",{loop:!0}),wav7:this.sound.add("wav6",{loop:!0}),wav8:this.sound.add("wav7",{loop:!0}),wav9:this.sound.add("wav8",{loop:!0})},s=this.cache.json.get("sfx").spritemap;let e=0;for(let i in s){if(!s.hasOwnProperty(i))continue;const a=this.makeButton(i,n.width/3*(e%3+.5),(Math.floor(e/3)+.5)*(n.height-200)/3);this.trackSprites[i]=new o(i,a),this.trackSprites[i].audio=t[this.trackSprites[i].audioName],this.trackSprites[i].audio.play(),this.trackSprites[i].audio.pause(),e++}this.createTrackSprites()}createTrackSprites(){const t=this.trackSprites;for(let s in t){const e=t[s];e.smallSprite=this.add.image(70*s,800,e.picName,1).setScale(.2),e.muteBtn=this.add.image(70*s-15,870,"mute",1).setScale(.5),e.soloBtn=this.add.image(70*s+15,870,"solo",1).setScale(.5),e.hideSmallSprite(),e.setButtonFrame=this.setButtonFrame,e.setMuteFrame=this.setMuteFrame,e.setSoloFrame=this.setSoloFrame,e.updateVisualAllMusicFrames=()=>this.updateVisualAllMusicFrames,e.muteAll=()=>{this.muteAllSongs()},e.unSoloAll=()=>{this.unSoloAll()},e.setupButtons()}}muteAllSongs(){const t=this.trackSprites;console.log(t);for(let s in t){t[s].mute()}}makeButton(t,s,e){const i=this.add.image(s,e,"pic"+t,1).setInteractive();return i.name=t,i.setScale(.8,.8),i}unSoloAll(){const t=this.trackSprites;for(let s in t){const e=t[s];this.setSoloFrame(e.soloBtn,1)}}updateVisualAllMusicFrames(){const t=this.trackSprites;for(let s in trackSprites)t[s].updateVisuals()}setButtonFrame(t,s){t.frame=t.scene.textures.getFrame("pic"+t.name,s)}setMuteFrame(t,s){t.frame=t.scene.textures.getFrame("mute",s)}setSoloFrame(t,s){t.frame=t.scene.textures.getFrame("solo",s)}}const n={type:a.a.AUTO,parent:"phaser-example",width:700,height:900,scene:[r],pixelArt:!0,backgroundColor:"#FFFFFF",audio:{disableWebAudio:!0}};new a.a.Game(n)}]);