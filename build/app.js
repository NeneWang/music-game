!function(t){function s(s){for(var i,d,r=s[0],u=s[1],h=s[2],n=0,p=[];n<r.length;n++)d=r[n],Object.prototype.hasOwnProperty.call(a,d)&&a[d]&&p.push(a[d][0]),a[d]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);for(l&&l(s);p.length;)p.shift()();return o.push.apply(o,h||[]),e()}function e(){for(var t,s=0;s<o.length;s++){for(var e=o[s],i=!0,r=1;r<e.length;r++){var u=e[r];0!==a[u]&&(i=!1)}i&&(o.splice(s--,1),t=d(d.s=e[0]))}return t}var i={},a={0:0},o=[];function d(s){if(i[s])return i[s].exports;var e=i[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,d),e.l=!0,e.exports}d.m=t,d.c=i,d.d=function(t,s,e){d.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},d.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},d.t=function(t,s){if(1&s&&(t=d(t)),8&s)return t;if(4&s&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(d.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var i in t)d.d(e,i,function(s){return t[s]}.bind(null,i));return e},d.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return d.d(s,"a",s),s},d.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},d.p="";var r=window.webpackJsonp=window.webpackJsonp||[],u=r.push.bind(r);r.push=s,r=r.slice();for(var h=0;h<r.length;h++)s(r[h]);var l=u;o.push([1,1]),e()}([,function(t,s,e){"use strict";e.r(s);var i=e(0),a=e.n(i);var o=class{constructor(t=null,s=null){this.title=t,this.toggled=!1,this.smallSprite,this.audio,this.audioList,this.audioName="wav"+t,this.picName="pic"+t,this.muteBtn,this.soloBtn,this.button=s,this.trackSpritesRef,this.setButtonFrame,this.setMuteFrame,this.setSoloFrame,this.muteAll,this.unSoloAll,this.trackNumber=1,this.maxTrackNumber=2,this.textSprite}leftAsToggled(){this.toggled&&this.setButtonFrame(this.button,2)}setupButtons(){this.button.setInteractive(),this.button.on("pointerover",(()=>{this.setButtonFrame(this.button,0)})),this.button.on("pointerout",(()=>{this.setButtonFrame(this.button,1),this.leftAsToggled()})),this.button.on("pointerdown",(()=>{this.handleMusicSpriteClick()})),this.button.on("wheel",(t=>{t.event.deltaY>0?this.increaseAudioTrack():this.decreaseAudioTrack()})),this.button.on("pointerup",(()=>{this.setButtonFrame(this.button,1),this.leftAsToggled()})),this.smallSprite.setInteractive(),this.smallSprite.on("pointerdown",(()=>{this.handleMusicSpriteClick()}))}showSmallSpriteX(){this.smallSprite.visible=!0,this.muteBtn.visible=!0,this.soloBtn.visible=!0,this.muteBtn.setInteractive(),this.muteBtn.on("pointerdown",(()=>{this.toggleMute()})),this.soloBtn.setInteractive(),this.soloBtn.on("pointerdown",(()=>{this.toggleSolo()}))}increaseAudioTrack(){this.trackNumber++,this.confineTrack(),this.changeAudioTrack(this.trackNumber-1),this.updateTrackWithName()}decreaseAudioTrack(){this.trackNumber--,this.confineTrack(),this.changeAudioTrack(this.trackNumber-1),this.updateTrackWithName()}changeAudioTrack(t){this.audio=this.audioList[t]}playEveryBar(){this.toggled&&this.audio.play()}updateTrackWithName(){this.updateTrack(`${this.trackNumber} ${this.audioList[this.trackNumber-1].key}`)}confineTrack(){this.trackNumber>this.maxTrackNumber?this.trackNumber=1:this.trackNumber<1&&(this.trackNumber=this.maxTrackNumber)}updateTrack(t){this.textSprite.setText(t)}mute(){this.audio.mute=!0,this.updateVisuals(),this.unSoloAll()}toggleMute(){this.audio.mute=!this.audio.mute,this.updateVisuals(),this.unSoloAll()}updateVisuals(){this.setMuteFrame(this.muteBtn,this.audio.mute?2:1)}toggleSolo(){this.muteAll(),this.audio.mute=!1,this.unSoloAll(),this.setSoloFrame(this.soloBtn,2),this.updateVisuals()}hideSmallSprite(){this.smallSprite.visible=!1,this.muteBtn.visible=!1,this.soloBtn.visible=!1}handleMusicSpriteClick(){this.setButtonFrame(this.button,2),this.toggled=!this.toggled,this.toggled?(this.audio.mute&&(this.audio.mute=!1,this.unSoloAll()),this.showSmallSpriteX()):(this.audio.pause(),this.hideSmallSprite(70)),this.setButtonFrame(this.button,2),this.updateVisuals()}};class d extends a.a.Scene{constructor(){super(),this.trackSprites=[],this.BARLENGTH=2.7273}preload(){this.load.spritesheet("pic1","assets/gms/images/1-spread.png",{frameWidth:300,frameHeight:300}),this.load.spritesheet("pic2","assets/gms/images/2-spread.png",{frameWidth:300,frameHeight:300}),this.load.spritesheet("pic3","assets/gms/images/3-spread.png",{frameWidth:300,frameHeight:300}),this.load.spritesheet("pic4","assets/gms/images/4-spread.png",{frameWidth:300,frameHeight:300}),this.load.spritesheet("pic5","assets/gms/images/8-spread.png",{frameWidth:300,frameHeight:300}),this.load.spritesheet("pic6","assets/gms/images/6-spread.png",{frameWidth:300,frameHeight:300}),this.load.spritesheet("pic7","assets/gms/images/7-spread.png",{frameWidth:300,frameHeight:300}),this.load.spritesheet("pic8","assets/gms/images/5-spread.png",{frameWidth:300,frameHeight:300}),this.load.spritesheet("pic9","assets/gms/images/9-spread.png",{frameWidth:300,frameHeight:300}),this.load.spritesheet("mute","assets/gms/sprites/mute-sheet.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("solo","assets/gms/sprites/headphone-sheet.png",{frameWidth:64,frameHeight:64}),this.load.bitmapFont("nokia","assets/fonts/bitmapFonts/nokia16black.png","assets/fonts/bitmapFonts/nokia16black.xml"),this.load.audioSprite("sfx","assets/audio/SoundEffects/fx_mixdown.json",["assets/audio/SoundEffects/fx_mixdown.ogg","assets/audio/SoundEffects/fx_mixdown.mp3"]),this.load.audio("wav1",["assets/gms/audio/1.wav"]),this.load.audio("wav2",["assets/gms/audio/2.wav"]),this.load.audio("wav3",["assets/gms/audio/3.wav"]),this.load.audio("wav4",["assets/gms/audio/4.wav"]),this.load.audio("wav5",["assets/gms/audio/5.wav"]),this.load.audio("wav6",["assets/gms/audio/6.wav"]),this.load.audio("wav7",["assets/gms/audio/7.wav"]),this.load.audio("wav8",["assets/gms/audio/8.wav"]),this.load.audio("wav9",["assets/gms/audio/9.wav"]),this.load.audio("BAD",["assets/gms/audio/BAD.mp3"]),this.load.audio("CHORUS1",["assets/gms/audio/CHORUS1.mp3"]),this.load.audio("HEY",["assets/gms/audio/HEY.mp3"]),this.load.audio("HORN1",["assets/gms/audio/HORN1.mp3"]),this.load.audio("HORN2",["assets/gms/audio/HORN2.mp3"]),this.load.audio("HORNSTOGETHER",["assets/gms/audio/HORNSTOGETHER.mp3"]),this.load.audio("HSDROPOUT",["assets/gms/audio/HSDROPOUT.mp3"]),this.load.audio("ITEACH",["assets/gms/audio/ITEACH.mp3"]),this.load.audio("ITHOUGHT",["assets/gms/audio/ITHOUGHT.mp3"]),this.load.audio("KEYBOARD1",["assets/gms/audio/KEYBOARD1.mp3"]),this.load.audio("KICKS1",["assets/gms/audio/KICKS1.mp3"]),this.load.audio("LETGRAP",["assets/gms/audio/LETGRAP.mp3"]),this.load.audio("Pushup",["assets/gms/audio/Pushup.mp3"]),this.load.audio("SNARE1",["assets/gms/audio/SNARE1.mp3"]),this.load.audio("SNARE2",["assets/gms/audio/SNARE2.mp3"]),this.load.audio("SNARE3",["assets/gms/audio/SNARE3.mp3"]),this.load.audio("SNARECOMBO2",["assets/gms/audio/SNARECOMBO2.mp3"]),this.load.audio("SNAREHATCOMBO1",["assets/gms/audio/SNAREHATCOMBO1.mp3"]),this.load.audio("SOMEOFYOUSWEARWHATIMSPITTIN",["assets/gms/audio/SOMEOFYOUSWEARWHATIMSPITTIN.mp3"]),this.load.audio("SUPPORTTHEARTIST",["assets/gms/audio/SUPPORTTHEARTIST.mp3"]),this.load.audio("ZSHUMPDUMPDANUMP",["assets/gms/audio/ZSHUMPDUMPDANUMP.mp3"])}create(){this.sound.add("wav1",{loop:!0});this.sound.add("wav1",{loop:!0}),this.sound.add("wav2",{loop:!0}),this.sound.add("wav3",{loop:!0}),this.sound.add("wav4",{loop:!0}),this.sound.add("wav5",{loop:!0}),this.sound.add("wav9",{loop:!0}),this.sound.add("wav6",{loop:!0}),this.sound.add("wav7",{loop:!0}),this.sound.add("wav8",{loop:!0}),this.sound.add("BAD",{loop:!0}),this.sound.add("CHORUS1",{loop:!0}),this.sound.add("HEY",{loop:!0}),this.sound.add("HORN1",{loop:!0}),this.sound.add("HORN2",{loop:!0}),this.sound.add("HORNSTOGETHER",{loop:!0}),this.sound.add("HSDROPOUT",{loop:!0}),this.sound.add("ITEACH",{loop:!0}),this.sound.add("ITHOUGHT",{loop:!0}),this.sound.add("KEYBOARD1",{loop:!0}),this.sound.add("LETGRAP",{loop:!0}),this.sound.add("Pushup",{loop:!0}),this.sound.add("SNARE1",{loop:!0}),this.sound.add("SNARE2",{loop:!0}),this.sound.add("SNARE3",{loop:!0}),this.sound.add("SNARECOMBO2",{loop:!0}),this.sound.add("SNAREHATCOMBO1",{loop:!0}),this.sound.add("SOMEOFYOUSWEARWHATIMSPITTIN",{loop:!0}),this.sound.add("SUPPORTTHEARTIST",{loop:!0}),this.sound.add("ZSHUMPDUMPDANUMP",{loop:!0});const t={1:["HSDROPOUT","ITEACH"],2:["HORN1","HORN2","HORNSTOGETHER"],3:["KICKS1"],4:["SOMEOFYOUSWEARWHATIMSPITTIN","ITHOUGHT","LETGRAP"],5:["SNARECOMBO2","SNAREHATCOMBO1"],6:["ZSHUMPDUMPDANUMP","CHORUS1"],7:["Pushup","SUPPORTTHEARTIST","BAD"],8:["HEY","KEYBOARD1"],9:["SNARE1","SNARE2","SNARE3"]},s=this.cache.json.get("sfx").spritemap;let e=0;for(let i in s){if(!s.hasOwnProperty(i))continue;const a=this.makeButton(i,r.width/3*(e%3+.5),(Math.floor(e/3)+.5)*(r.height-200)/3);this.trackSprites[i]=new o(i,a),this.trackSprites[i].audioList=t[i].map((t=>this.sound.add(t,{loop:!0}))),this.trackSprites[i].audioList.forEach((t=>{t.play(),t.pause()})),this.trackSprites[i].maxTrackNumber=this.trackSprites[i].audioList.length,this.trackSprites[i].textSprite=this.add.text(r.width/3*(e%3),Math.floor(e/3)*(r.height-200)/3,this.trackSprites[i].trackNumber),this.trackSprites[i].updateTrackWithName(),this.trackSprites[i].audio=this.trackSprites[i].audioList[0],e++}this.createTrackSprites(),this.triggerTimer=this.time.addEvent({callback:()=>this.triggerEveryAudioSprite(),callbackScope:this,delay:1e3*this.BARLENGTH,loop:!0})}triggerEveryAudioSprite(){this.trackSprites.forEach((t=>{console.log(t),t.playEveryBar()}))}createTrackSprites(){const t=this.trackSprites;for(let s in t){const e=t[s];e.smallSprite=this.add.image(70*s,800,e.picName,1).setScale(.2),e.muteBtn=this.add.image(70*s-15,870,"mute",1).setScale(.5),e.soloBtn=this.add.image(70*s+15,870,"solo",1).setScale(.5),e.hideSmallSprite(),e.setButtonFrame=this.setButtonFrame,e.setMuteFrame=this.setMuteFrame,e.setSoloFrame=this.setSoloFrame,e.updateVisualAllMusicFrames=()=>this.updateVisualAllMusicFrames,e.muteAll=()=>{this.muteAllSongs()},e.unSoloAll=()=>{this.unSoloAll()},e.setupButtons()}}muteAllSongs(){const t=this.trackSprites;console.log(t);for(let s in t){t[s].mute()}}makeButton(t,s,e){const i=this.add.image(s,e,"pic"+t,1).setInteractive();return i.name=t,i.setScale(.8,.8),i}unSoloAll(){const t=this.trackSprites;for(let s in t){const e=t[s];this.setSoloFrame(e.soloBtn,1)}}updateVisualAllMusicFrames(){const t=this.trackSprites;for(let s in trackSprites)t[s].updateVisuals()}setButtonFrame(t,s){t.frame=t.scene.textures.getFrame("pic"+t.name,s)}setMuteFrame(t,s){t.frame=t.scene.textures.getFrame("mute",s)}setSoloFrame(t,s){t.frame=t.scene.textures.getFrame("solo",s)}}const r={type:a.a.AUTO,parent:"phaser-example",width:700,height:900,scene:[d],pixelArt:!0,backgroundColor:"#FFFFFF",audio:{disableWebAudio:!0}};new a.a.Game(r)}]);